---
import { getLanguage, t } from '../../i18n/utils';

interface Props {
  currentStep: number;
}

const { currentStep } = Astro.props;
const lang = getLanguage(Astro.url);

const steps = [
  { number: 1, label: t(lang, 'step1') },
  { number: 2, label: t(lang, 'step2') },
  { number: 3, label: t(lang, 'step3') },
];
---

<div class="flex items-center justify-start mb-10 md:mb-12" data-stepper data-current-step={currentStep}>
  {steps.map((step, index) => (
    <div class="flex items-center">
      <div class="flex flex-col items-center">
        <div
          class={`w-12 h-12 rounded-full flex items-center justify-center font-bold transition-all duration-300 ${
          step.number < currentStep 
            ? 'bg-secondary text-white' 
            : step.number === currentStep 
            ? 'bg-primary text-white ring-4 ring-primary/20' 
            : 'bg-gray-200 text-gray-500'
        }`}
          data-step-index={step.number}
        >
          <span data-step-marker={step.number < currentStep ? 'complete' : 'pending'}>
            {step.number < currentStep ? 'âœ“' : step.number}
          </span>
        </div>
        <p
          class={`mt-2 text-xs md:text-sm font-medium text-center ${
          step.number === currentStep ? 'text-primary' : 'text-gray-500'
        }`}
          data-step-label={step.number}
        >
          {step.label}
        </p>
      </div>
      
      {index < steps.length - 1 && (
        <div class={`h-1 w-16 md:w-32 mx-2 md:mx-4 transition-all duration-300 ${
          step.number < currentStep ? 'bg-secondary' : 'bg-gray-200'
        }`}></div>
      )}
    </div>
  ))}
</div>



